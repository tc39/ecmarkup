<!doctype html>
<head><meta charset="utf-8"></head><body><div id="shortcuts-help">
<ul>
  <li><span>Toggle shortcuts help</span><code>?</code></li>
  <li><span>Toggle "can call user code" annotations</span><code>u</code></li>

  <li><span>Jump to search box</span><code>/</code></li>
  <li><span>Toggle pinning of the current clause</span><code>p</code></li>
  <li><span>Jump to <i>n</i>th pin</span><code>1-9</code></li>
</ul></div><div id="spec-container">
<emu-intro namespace="intro" aoid="SomeAlg" id="i1">
  <h1>Intro</h1>
  <emu-grammar type="definition"><emu-production name="Foo" type="lexical" id="prod-intro-Foo">
    <emu-nt><a href="#prod-intro-Foo">Foo</a></emu-nt> <emu-geq>::</emu-geq> <emu-rhs a="-ut9lz0s">
        <emu-t>bar</emu-t>
        <emu-nt id="_ref_7"><a href="#prod-MainProd">MainProd</a></emu-nt>
        <emu-t>baz</emu-t>
    </emu-rhs>
</emu-production>
</emu-grammar>
</emu-intro>
<emu-clause id="c1">
  <h1><span class="secnum">1</span> Clause 1</h1>
  <emu-grammar type="definition"><emu-production name="Foo" type="lexical" id="prod-Foo">
    <emu-nt><a href="#prod-Foo">Foo</a></emu-nt> <emu-geq>::</emu-geq> <emu-rhs a="-ut9lz0s">
        <emu-t>bar</emu-t>
        <emu-nt id="_ref_8"><a href="#prod-MainProd">MainProd</a></emu-nt>
        <emu-t>baz</emu-t>
    </emu-rhs>
</emu-production>
<emu-production name="MainProd" type="lexical" id="prod-MainProd">
    <emu-nt><a href="#prod-MainProd">MainProd</a></emu-nt> <emu-geq>::</emu-geq> <emu-rhs a="ibprmfpm">
        <emu-nt id="_ref_9"><a href="#prod-Foo">Foo</a></emu-nt>
    </emu-rhs>
</emu-production>
</emu-grammar>
  <emu-clause id="c11" namespace="clause">
    <h1><span class="secnum">1.1</span> Clause 1.1</h1>

    <emu-grammar type="definition"><emu-production name="Foo" type="lexical" id="prod-clause-Foo">
    <emu-nt><a href="#prod-clause-Foo">Foo</a></emu-nt> <emu-geq>::</emu-geq> <emu-rhs a="-ut9lz0s">
        <emu-t>bar</emu-t>
        <emu-nt id="_ref_10"><a href="#prod-MainProd">MainProd</a></emu-nt>
        <emu-t>baz</emu-t>
    </emu-rhs>
</emu-production>
</emu-grammar>

    <!-- FIXME: Shouldn't this be allowed by the preceding `namespace=clause`? -->
    <!-- EXPECT_WARNING { "ruleId": "duplicate-definition", "message": "duplicate definition \"SomeAlg\"" } -->
    <emu-clause id="c111" aoid="SomeAlg">
      <h1><span class="secnum">1.1.1</span> SomeAlg</h1>
    </emu-clause>

    <p><emu-xref aoid="SomeAlg" id="_ref_2"><a href="#i1">SomeAlg</a></emu-xref> does things.</p>
    <p>Can still xref clauses inside of namespaces: <emu-xref href="#annex11" id="_ref_0"><a href="#annex11">A.1</a></emu-xref>.</p>
    <p>Can xref prods in namespaces: <emu-xref href="#prod-annex-Foo" id="_ref_1"><a href="#prod-annex-Foo"><emu-nt>Foo</emu-nt></a></emu-xref>.</p>
  </emu-clause>
</emu-clause>
<emu-annex id="annex1" namespace="annex">
  <h1><span class="secnum">A</span> Annex</h1>
  <emu-grammar type="definition"><emu-production name="Foo" type="lexical" id="prod-annex-Foo">
    <emu-nt><a href="#prod-annex-Foo">Foo</a></emu-nt> <emu-geq>::</emu-geq> <emu-rhs a="-ut9lz0s">
        <emu-t>bar</emu-t>
        <emu-nt id="_ref_11"><a href="#prod-annex-MainProd">MainProd</a></emu-nt>
        <emu-t>baz</emu-t>
    </emu-rhs>
</emu-production>
</emu-grammar>
  <!-- FIXME: Shouldn't this be allowed by the preceding `namespace=annex`? -->
  <!-- EXPECT_WARNING { "ruleId": "duplicate-definition", "message": "duplicate definition \"SomeAlg\"" } -->
  <emu-annex id="annex11" aoid="SomeAlg">
    <h1><span class="secnum">A.1</span> SomeAlg</h1>
  </emu-annex>

  <!-- FIXME: Shouldn't this be allowed by `namespace=annex2`? -->
  <!-- EXPECT_WARNING { "ruleId": "duplicate-definition", "message": "duplicate definition \"SomeAlg\"" } -->
  <emu-annex id="annex12" aoid="SomeAlg" namespace="annex2">
    <h1><span class="secnum">A.2</span> Annex 1.2</h1>
    <p><emu-xref aoid="SomeAlg" id="_ref_3"><a href="#i1">SomeAlg</a></emu-xref> should link to #annex12. <emu-nt id="_ref_12"><a href="#prod-annex-Foo">Foo</a></emu-nt> should link to the production in #annex1.</p>
  </emu-annex>

  <p><emu-xref aoid="SomeAlg" id="_ref_4"><a href="#i1">SomeAlg</a></emu-xref> does things.</p>
  <emu-alg><ol><li>Let <var>x</var> be the result of <emu-xref aoid="SomeAlg" id="_ref_5"><a href="#i1">SomeAlg</a></emu-xref>.</li></ol></emu-alg>
</emu-annex>

<emu-annex id="annex2" namespace="annex">
  <h1><span class="secnum">B</span> Annex 2</h1>
  <!-- EXPECT_WARNING { "ruleId": "duplicate-definition", "message": "duplicate definition \"SomeAlg\"" } -->
  <emu-annex id="annex21" aoid="SomeAlg">
    <h1><span class="secnum">B.1</span> SomeAlg</h1>
  </emu-annex>
  <emu-grammar type="definition"><emu-production name="MainProd" type="lexical" id="prod-annex-MainProd">
    <emu-nt><a href="#prod-annex-MainProd">MainProd</a></emu-nt> <emu-geq>::</emu-geq> <emu-rhs a="ibprmfpm">
        <emu-nt id="_ref_13"><a href="#prod-annex-Foo">Foo</a></emu-nt>
    </emu-rhs>
</emu-production>
</emu-grammar>
  <p><emu-xref aoid="SomeAlg" id="_ref_6"><a href="#i1">SomeAlg</a></emu-xref> does things.</p>
</emu-annex>
</div></body>